<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tzainten - UnrealSharp</title>

    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="stylesheet" href="/lib/vs2015.min.css">
    <link rel="stylesheet" href="/lib/flickity/flickity.min.css">
    <link rel="stylesheet" media="screen and (min-width: 721px)" href="/style.desktop.min.css?v=626480556890109116554103220103058315131751670920940304" />
    <link rel="stylesheet" media="screen and (max-width: 720px)" href="/style.mobile.min.css?v=626480556890109116554103220103058315131751670920940304" />

    <script src="/lib/flickity/flickity.pkgd.min.js" ></script>

    <meta name="description" content="A tool that implements modern C# into Unreal Engine 5. It features full packaging support, as well as blazing fast hot-loading.">

    <meta property="og:title" content="tzainten - UnrealSharp">
    <meta property="og:description" content="A tool that implements modern C# into Unreal Engine 5. It features full packaging support, as well as blazing fast hot-loading.">
    <meta property="og:image" content="https://tzainten.github.io/images/avatar.jpg">
    <meta property="og:url" content="https://tzainten.github.io/">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="tzainten.github.io">
</head>

<body style="visibility: hidden;">
<div class="body-container">
<div class="page-container">

<div class="masthead fade-me-in">
    <img class="avatar" src="/images/avatar.jpg">
    <div class="card-container">
        <div>
            <h1>Hi, I'm <span class="username">tzainten</span>. I like coding.</h1>
        </div>
        <div class="social-links">
            <a href="https://github.com/tzainten/" class="social-button">
                <img src="/images/github.png" width="32" height="32">
            </a>
            <a href="https://steamcommunity.com/id/tzainten" class="social-button"> 
                <img src="/images/steam.png" width="32" height="32">
            </a>
            <a href="https://discord.com/users/608055742473175040" class="social-button"> 
                <img src="/images/discord.png" width="32" height="32">
            </a>
        </div>
    </div>
    <div class="location">
        <div style="display: flex; align-items: center; flex-direction: row; gap: 10px;">
            <img src="/images/usa.png" height="32" />
            <p style="white-space: nowrap;">United States</p>
        </div>
        <div class="time">
            <p id="timeZone" style="white-space: nowrap;"></p>
        </div>
    </div>
</div>

<div class="fade-me-in quick spacer"></div>

<div class="fade-me-in" style="display: flex; flex-direction: column;">

<div class="fade-me-in" style="display: flex; flex-direction: column;">
<div class="breadcrumbs">
    <a href="/">Home</a>
	/
	<a href="/projects/">Projects</a>
	/
	<p>UnrealSharp</p>
</div>
</div>

<div class="project-banner">
    <video class="fit-video noclick" preload="none" autoplay loop muted playsinline>
        <source src="videos/backdrop.mp4" type="video/mp4">
    </video>
    <div class="backdrop"></div>
    <img style="position: absolute; width: 100%;" src="images/logowide.png" alt="">
</div>
<div class="project-container">
    <div class="project-text">
        <div class="fade-me-in">
    <div style="display: flex; flex-direction: row; align-items: center;">
        <span class="title" style="white-space: nowrap; width: fit-content; margin-right: 10px;">DEVELOPMENT INFO</span>
        <div class="spacer"></div>
    </div>
    <div class="project-info">
        
                        <div class="project-info-slot">
                            <p style="width: 100%">Role: <span style="color: rgba(255, 255, 255, 0.6);">4 Contributions</span></p>
                        </div>
                    
        
    </div>
    <div class="project-info">
        
                        <div class="project-info-slot">
                            <div style="display: flex; flex-direction: row; gap: 5px;">
                                <p style="display: flex; align-items: center; width: 100%">Tools: </p>
                                <div class="tooltip">
                        <a href="https://learn.microsoft.com/en-us/dotnet/csharp/">
                        <img class="social-button" height=24 src="/images/cs.png" style="border-radius: 6px" />
                        </a>
                        <span class="tooltiptext">C#</span>
                        </div>
                        <div class="tooltip">
                        <a href="https://dev.epicgames.com/documentation/en-US/unreal-engine">
                        <img class="social-button" height=24 src="/images/ue.png" style="border-radius: 6px" />
                        </a>
                        <span class="tooltiptext">Unreal Engine 5</span>
                        </div>
                        <div class="tooltip">
                        <a href="https://git-scm.com/doc">
                        <img class="social-button" height=24 src="/images/git.png" style="border-radius: 6px" />
                        </a>
                        <span class="tooltiptext">Git</span>
                        </div>
                        
                            </div>
                        </div>
                    
        
                        <div class="project-info-slot">
                            <p class="project-info-right" style="width: 100%;">Source: <a href="https://github.com/UnrealSharp/UnrealSharp/pull/49">One</a>, <a href="https://github.com/UnrealSharp/UnrealSharp/pull/50">Two</a>, <a href="https://github.com/UnrealSharp/UnrealSharp/pull/160">Three</a>, <a href="https://github.com/UnrealSharp/UnrealSharp/pull/169">Four</a>
</p>
                        </div>
                    
    </div>
</div>
        
        <div class="fade-me-in">
            <div style="display: flex; flex-direction: row; align-items: center;">
                <span class="title" style="white-space: nowrap; width: fit-content; margin-right: 10px;">DESCRIPTION</span>
                <div class="spacer"></div>
            </div>

            <p class="project-summary">A tool that implements modern C# into Unreal Engine 5. It features full packaging support, as well as blazing fast hot-loading.</p>
            <div class="project-body">
                <h3>The Goal</h3>
<p>I found this plugin in the <a href="https://discord.com/invite/unrealsource">Unreal Source</a> Discord. The purpose of this plugin is to sit between C++ and Blueprints.</p>
<p>It was very early in development at this time, so I decided to help out where I could.</p>
<h3>Reducing Hot Reload Spam</h3>
<p>While coding in C#, I found myself saving my changes quite frequently. Everytime I would save, UnrealSharp would reload my code.</p>
<p>If I had saved an error in my code, fixed it and then saved again, an error prompt would still be waiting for me in Unreal Engine.</p>
<p>So, I added an editor setting that would only hot-load changes when the editor has focus.</p>
<p><video class="fit-video" src="videos/backdrop.mp4#t=0.1" type="video/mp4" preload="metadata" controls muted></video></p>
<h3>Changes Weren't Loaded At First Startup</h3>
<p>If you had Unreal Engine closed, and you made a change to your C# code, Unreal Engine would not load these changes until you saved a file.</p>
<p>This was a pretty simple fix, but a vital one!</p>
<pre class="shiki dark-plus" style="color:#D4D4D4" tabindex="0"><code class="language-c#"><span class="line"><span style="color:#4EC9B0">WeaveProject</span><span style="color:#9CDCFE"> weaveProject</span><span style="color:#D4D4D4"> = </span><span style="color:#569CD6">new</span><span style="color:#4EC9B0"> WeaveProject</span><span style="color:#D4D4D4">();</span></span>
<span class="line"><span style="color:#C586C0">if</span><span style="color:#D4D4D4"> (!</span><span style="color:#9CDCFE">weaveProject</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">RunAction</span><span style="color:#D4D4D4">())</span></span>
<span class="line"><span style="color:#D4D4D4">{</span></span>
<span class="line"><span style="color:#C586C0">    return</span><span style="color:#569CD6"> false</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span></code></pre>
<h3>Compile Error</h3>
<p>UnrealSharp switched to using a UnrealHeaderTool extension, and with this there was a small bug that some people were experiencing.</p>
<p>It was a simple fix, the .csproj file was just missing the following:</p>
<pre class="shiki dark-plus" style="color:#D4D4D4" tabindex="0"><code class="language-xml"><span class="line"><span style="color:#808080">&#x3C;</span><span style="color:#569CD6">Import</span><span style="color:#9CDCFE"> Project</span><span style="color:#D4D4D4">=</span><span style="color:#CE9178">"UnrealSharpScriptGenerator.ubtplugin.csproj.props"</span><span style="color:#D4D4D4"> </span></span>
<span class="line"><span style="color:#9CDCFE">        Condition</span><span style="color:#D4D4D4">=</span><span style="color:#CE9178">"Exists('UnrealSharpScriptGenerator.ubtplugin.csproj.props')"</span><span style="color:#808080"> /></span></span></code></pre>
<h3>Compile Time Code Generation</h3>
<p>There was a commit that switched over to generating reflection code at compile time, rather than when the project is loaded.</p>
<p>This was a great feature to add, but I noticed something missing. The .csproj file wouldn't be generated at compile time.</p>
<p>This was a pretty simple fix. All I had to do was invoke the UnrealSharpBuildTool to generate the file, and it was good to go!</p>
<pre class="shiki dark-plus" style="color:#D4D4D4" tabindex="0"><code class="language-c#"><span class="line"><span style="color:#569CD6">string</span><span style="color:#D4D4D4">? </span><span style="color:#9CDCFE">projectName</span><span style="color:#D4D4D4"> = </span><span style="color:#9CDCFE">Path</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">GetFileNameWithoutExtension</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">factory</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">Session</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">ProjectFile</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#C586C0">if</span><span style="color:#D4D4D4"> (</span><span style="color:#9CDCFE">projectName</span><span style="color:#D4D4D4"> != </span><span style="color:#569CD6">null</span><span style="color:#D4D4D4"> &#x26;&#x26; !</span><span style="color:#9CDCFE">File</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">Exists</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">"{factory.Session.ProjectDirectory}/Script/Managed{projectName}.csproj"</span><span style="color:#D4D4D4">))</span></span>
<span class="line"><span style="color:#D4D4D4">{</span></span>
<span class="line"><span style="color:#569CD6">    string</span><span style="color:#9CDCFE"> dotNetExe</span><span style="color:#D4D4D4"> = </span><span style="color:#9CDCFE">DotNetUtilities</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">FindDotNetExecutable</span><span style="color:#D4D4D4">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">    string</span><span style="color:#9CDCFE"> args</span><span style="color:#D4D4D4"> = </span><span style="color:#569CD6">string</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">Empty</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#9CDCFE">    args</span><span style="color:#D4D4D4"> += </span><span style="color:#CE9178">$"</span><span style="color:#D7BA7D">\"</span><span style="color:#CE9178">{</span><span style="color:#9CDCFE">PluginDirectory</span><span style="color:#CE9178">}/Binaries/Managed/UnrealSharpBuildTool.dll</span><span style="color:#D7BA7D">\"</span><span style="color:#CE9178">"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#9CDCFE">    args</span><span style="color:#D4D4D4"> += </span><span style="color:#CE9178">" --Action GenerateProject"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#9CDCFE">    args</span><span style="color:#D4D4D4"> += </span><span style="color:#CE9178">$" --EngineDirectory </span><span style="color:#D7BA7D">\"</span><span style="color:#CE9178">{</span><span style="color:#9CDCFE">factory</span><span style="color:#CE9178">.</span><span style="color:#9CDCFE">Session</span><span style="color:#CE9178">.</span><span style="color:#9CDCFE">EngineDirectory</span><span style="color:#CE9178">}/</span><span style="color:#D7BA7D">\"</span><span style="color:#CE9178">"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#9CDCFE">    args</span><span style="color:#D4D4D4"> += </span><span style="color:#CE9178">$" --ProjectDirectory </span><span style="color:#D7BA7D">\"</span><span style="color:#CE9178">{</span><span style="color:#9CDCFE">factory</span><span style="color:#CE9178">.</span><span style="color:#9CDCFE">Session</span><span style="color:#CE9178">.</span><span style="color:#9CDCFE">ProjectDirectory</span><span style="color:#CE9178">}/</span><span style="color:#D7BA7D">\"</span><span style="color:#CE9178">"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#9CDCFE">    args</span><span style="color:#D4D4D4"> += </span><span style="color:#CE9178">$" --ProjectName {</span><span style="color:#9CDCFE">projectName</span><span style="color:#CE9178">}"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#9CDCFE">    args</span><span style="color:#D4D4D4"> += </span><span style="color:#CE9178">$" --PluginDirectory </span><span style="color:#D7BA7D">\"</span><span style="color:#CE9178">{</span><span style="color:#9CDCFE">PluginDirectory</span><span style="color:#CE9178">}</span><span style="color:#D7BA7D">\"</span><span style="color:#CE9178">"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#9CDCFE">    args</span><span style="color:#D4D4D4"> += </span><span style="color:#CE9178">$" --DotNetPath </span><span style="color:#D7BA7D">\"</span><span style="color:#CE9178">{</span><span style="color:#9CDCFE">dotNetExe</span><span style="color:#CE9178">}</span><span style="color:#D7BA7D">\"</span><span style="color:#CE9178">"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4EC9B0">    Process</span><span style="color:#9CDCFE"> process</span><span style="color:#D4D4D4"> = </span><span style="color:#569CD6">new</span><span style="color:#4EC9B0"> Process</span><span style="color:#D4D4D4">();</span></span>
<span class="line"><span style="color:#4EC9B0">    ProcessStartInfo</span><span style="color:#9CDCFE"> startInfo</span><span style="color:#D4D4D4"> = </span><span style="color:#569CD6">new</span><span style="color:#4EC9B0"> ProcessStartInfo</span></span>
<span class="line"><span style="color:#D4D4D4">    {</span></span>
<span class="line"><span style="color:#9CDCFE">        WindowStyle</span><span style="color:#D4D4D4"> = </span><span style="color:#9CDCFE">ProcessWindowStyle</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">Hidden</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">        FileName</span><span style="color:#D4D4D4"> = </span><span style="color:#9CDCFE">DotNetUtilities</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">FindDotNetExecutable</span><span style="color:#D4D4D4">(),</span></span>
<span class="line"><span style="color:#9CDCFE">        Arguments</span><span style="color:#D4D4D4"> = </span><span style="color:#9CDCFE">args</span></span>
<span class="line"><span style="color:#D4D4D4">    };</span></span>
<span class="line"><span style="color:#9CDCFE">    process</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">StartInfo</span><span style="color:#D4D4D4"> = </span><span style="color:#9CDCFE">startInfo</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#9CDCFE">    process</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">Start</span><span style="color:#D4D4D4">();</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span></code></pre>
<h3>Summary</h3>
<p>This was my first time contributing to somebody else's work. Contributing to this plugin helped me learn a bit about how pull requests work.</p>
<p>One thing I think I could've done better is communicate the ideas I had before actually submitting a pull request. I think I got lucky here, but going forward I'm definitely going to communicate my changes better!</p>

            </div>
        </div>
    </div>

    <div class="project-media fade-me-in">
        
    </div>
    
    <div id="myModal" class="modal">
        <span class="close">&times;</span>
        <img class="modal-content" id="img01">
        <div id="caption"></div>
    </div>
</div>

</div>

</div>
</div>




<script src="/lib/instantpage.min.js" type="module"></script>

<noscript><style>body { visibility: visible; }</style></noscript>
<script src="/script.js?v=626480556" defer></script>

<style>
    .flickity-button {
        background: linear-gradient(to right, #767BBD, #86A6C4);
        color: white;
    }

    .flickity-button:hover, .flickity-button:active {
        background: linear-gradient(to left, #F7374F, #88304E);
    }
</style>

</body>
</html>